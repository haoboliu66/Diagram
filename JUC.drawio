<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36" version="24.8.4">
  <diagram name="Page-1" id="iqe3As87bchgCNZe354T">
    <mxGraphModel dx="2261" dy="761" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="FncKr-vtPmwALynlk0jB-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;curved=1;" parent="1" source="FncKr-vtPmwALynlk0jB-15" target="FncKr-vtPmwALynlk0jB-16" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FncKr-vtPmwALynlk0jB-15" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1195" y="3500" width="1015" height="190" as="geometry" />
        </mxCell>
        <mxCell id="B9yCGMFFLdolYYt0oWos-13" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1480" y="3230" width="595" height="100" as="geometry" />
        </mxCell>
        <mxCell id="99BcAxhjOU1GVthHqTRR-21" value="CPU" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-195" y="3720" width="306" height="70" as="geometry" />
        </mxCell>
        <mxCell id="UsoG7qOwd3O0ct9gbPl3-1" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1960" y="160" width="390" height="270" as="geometry" />
        </mxCell>
        <mxCell id="UsoG7qOwd3O0ct9gbPl3-2" value="线程" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1990" y="235" width="80" height="180" as="geometry" />
        </mxCell>
        <mxCell id="UsoG7qOwd3O0ct9gbPl3-5" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1870" y="200" as="sourcePoint" />
            <mxPoint x="1940" y="200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UsoG7qOwd3O0ct9gbPl3-6" value="工作窃取队列" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1990" y="235" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UsoG7qOwd3O0ct9gbPl3-9" value="线程" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2120" y="235" width="80" height="180" as="geometry" />
        </mxCell>
        <mxCell id="UsoG7qOwd3O0ct9gbPl3-10" value="工作窃取队列" style="rounded=0;whiteSpace=wrap;html=1;fontSize=11;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="2120" y="235" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UsoG7qOwd3O0ct9gbPl3-11" value="线程" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2240" y="235" width="80" height="180" as="geometry" />
        </mxCell>
        <mxCell id="UsoG7qOwd3O0ct9gbPl3-12" value="工作窃取队列" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="2240" y="235" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UsoG7qOwd3O0ct9gbPl3-13" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1800" y="490" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UsoG7qOwd3O0ct9gbPl3-14" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1860" y="490" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UsoG7qOwd3O0ct9gbPl3-15" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1920" y="490" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UsoG7qOwd3O0ct9gbPl3-17" value="为了优化性能, 避免多个线程获取任务时发生竞争, 工作窃取队列使用双端列队, 当前线程从top放入, 其他线程从base拿走" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="2015" y="480" width="305" height="40" as="geometry" />
        </mxCell>
        <mxCell id="UsoG7qOwd3O0ct9gbPl3-18" value="使用CAS避免多个竞争获取同一个&amp;nbsp;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="2005" y="545" width="280" height="40" as="geometry" />
        </mxCell>
        <mxCell id="UsoG7qOwd3O0ct9gbPl3-19" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1829.62" y="430" as="sourcePoint" />
            <mxPoint x="1829.62" y="480" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UsoG7qOwd3O0ct9gbPl3-20" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1958.23" y="584" as="sourcePoint" />
            <mxPoint x="1958" y="529" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="UsoG7qOwd3O0ct9gbPl3-21" value="top" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="1934" y="585" width="50" height="25" as="geometry" />
        </mxCell>
        <mxCell id="UsoG7qOwd3O0ct9gbPl3-22" value="base" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="1805" y="405" width="50" height="25" as="geometry" />
        </mxCell>
        <mxCell id="UsoG7qOwd3O0ct9gbPl3-23" value="会有多个线程从base指针窃取, base指针" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="2015" y="610" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UsoG7qOwd3O0ct9gbPl3-35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;curved=1;" parent="1" source="UsoG7qOwd3O0ct9gbPl3-24" target="UsoG7qOwd3O0ct9gbPl3-33" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UsoG7qOwd3O0ct9gbPl3-24" value="外部线程提交任务" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="1790" y="160" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UsoG7qOwd3O0ct9gbPl3-25" value="外部提交队列" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#CCE5FF;" parent="1" vertex="1">
          <mxGeometry x="1990" y="180" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UsoG7qOwd3O0ct9gbPl3-26" value="外部提交队列" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#CCE5FF;" parent="1" vertex="1">
          <mxGeometry x="2120" y="180" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UsoG7qOwd3O0ct9gbPl3-27" value="外部提交队列" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#CCE5FF;" parent="1" vertex="1">
          <mxGeometry x="2240" y="180" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UsoG7qOwd3O0ct9gbPl3-29" value="ForkJoinWorkerThread" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="1970" y="350" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UsoG7qOwd3O0ct9gbPl3-30" value="ForkJoinWorkerThread" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="2100" y="350" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UsoG7qOwd3O0ct9gbPl3-31" value="ForkJoinWorkerThread" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;" parent="1" vertex="1">
          <mxGeometry x="2227.5" y="350" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UsoG7qOwd3O0ct9gbPl3-38" style="edgeStyle=orthogonalEdgeStyle;shape=connector;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;" parent="1" source="UsoG7qOwd3O0ct9gbPl3-33" target="UsoG7qOwd3O0ct9gbPl3-37" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="UsoG7qOwd3O0ct9gbPl3-33" value="提交时如何决定提交到哪个队列" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="1940" y="70" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="UsoG7qOwd3O0ct9gbPl3-37" value="&quot;负载均衡&quot; - Hashing" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2067.5" y="110" width="185" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UsoG7qOwd3O0ct9gbPl3-39" value="两个队列读多写少, 优先考虑读性能， 因此使用数组实现" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="2467.5" y="207.5" width="192.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UsoG7qOwd3O0ct9gbPl3-41" value="工作窃取队列" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="2490" y="250" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UsoG7qOwd3O0ct9gbPl3-42" value="外部提交队列" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#CCE5FF;" parent="1" vertex="1">
          <mxGeometry x="2570" y="250" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UsoG7qOwd3O0ct9gbPl3-43" value="工作窃取队列" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="2650.5" y="250" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UsoG7qOwd3O0ct9gbPl3-44" value="用奇偶index来区分数组当前元素归属于哪类队列" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="2450" y="300" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="UsoG7qOwd3O0ct9gbPl3-45" value="外部提交队列" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#CCE5FF;" parent="1" vertex="1">
          <mxGeometry x="2410" y="250" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-1" value="并发专题" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="100" y="80" width="630" height="40" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;curved=1;" parent="1" source="dpeUAHpxACgYPMOwfueQ-2" target="dpeUAHpxACgYPMOwfueQ-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;curved=1;" parent="1" source="dpeUAHpxACgYPMOwfueQ-2" target="dpeUAHpxACgYPMOwfueQ-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;curved=1;" parent="1" source="dpeUAHpxACgYPMOwfueQ-2" target="dpeUAHpxACgYPMOwfueQ-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-2" value="知识" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="110" y="230" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-10" style="edgeStyle=orthogonalEdgeStyle;shape=connector;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;" parent="1" source="dpeUAHpxACgYPMOwfueQ-3" target="dpeUAHpxACgYPMOwfueQ-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-3" value="知识点" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="260" y="165" width="100" height="45" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-13" style="edgeStyle=orthogonalEdgeStyle;shape=connector;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;" parent="1" source="dpeUAHpxACgYPMOwfueQ-4" target="dpeUAHpxACgYPMOwfueQ-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-4" value="知识点" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="260" y="222.5" width="100" height="45" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-14" style="edgeStyle=orthogonalEdgeStyle;shape=connector;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;" parent="1" source="dpeUAHpxACgYPMOwfueQ-5" target="dpeUAHpxACgYPMOwfueQ-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-5" value="知识点" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="260" y="285" width="100" height="45" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-9" value="混沌树" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="485" y="235" width="79" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-15" value="并发的本质: 多个CPU同时操作了同一个数据" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="90" y="410" width="230" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-16" value="atomicity: 一段操作, 要么全不执行, 那么全执行完不能被中断" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="385" y="410" width="300" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-22" style="edgeStyle=orthogonalEdgeStyle;shape=connector;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;" parent="1" source="dpeUAHpxACgYPMOwfueQ-17" target="dpeUAHpxACgYPMOwfueQ-18" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-23" style="edgeStyle=orthogonalEdgeStyle;shape=connector;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;" parent="1" source="dpeUAHpxACgYPMOwfueQ-17" target="dpeUAHpxACgYPMOwfueQ-19" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-17" value="CPU如何支持原子性操作" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="100" y="510" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-18" value="锁总线" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="330" y="485" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-21" value="" style="edgeStyle=orthogonalEdgeStyle;shape=connector;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;" parent="1" source="dpeUAHpxACgYPMOwfueQ-19" target="dpeUAHpxACgYPMOwfueQ-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-19" value="锁缓存行" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="330" y="540" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-20" value="锁一个变量的虚拟地址" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="460" y="540" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-24" value="CPU提供指令级别的原子性操作" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="280" y="590" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-25" value="CPU" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="498.75" y="880" width="70" height="40" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-26" value="OS" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="498.75" y="820" width="180" height="40" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-27" value="App" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="606" y="760" width="70" height="40" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-28" value="CPU单个指令级别的原子性操作" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="746" y="910" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-29" value="基于CPU的单个原子指令实现原子性操作" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="740" y="835" width="214" height="30" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-30" value="App" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="500" y="760" width="70" height="40" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-31" value="CPU" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="611.25" y="880" width="70" height="40" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-32" value="Monitor" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="245" y="840" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-33" value="lock; cmpxchg" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="135" y="1370" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-36" value="" style="edgeStyle=orthogonalEdgeStyle;shape=connector;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;" parent="1" source="dpeUAHpxACgYPMOwfueQ-35" target="dpeUAHpxACgYPMOwfueQ-33" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-35" value="CAS" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="160" y="1310" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-37" value="SMP架构" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="130" y="1100" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-38" value="NUMA架构" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="240" y="1100" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-39" value="mechanism for carrying out locked atomic operations:&lt;br&gt;1. Guaranteed atomic operations&lt;br&gt;2. Bus locking, using LOCK signal and the LOCK instruction prefix&lt;br&gt;3. Cache coherency protocols (MESI)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="460" y="1075" width="333" height="70" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-42" value="" style="edgeStyle=orthogonalEdgeStyle;shape=connector;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;" parent="1" source="dpeUAHpxACgYPMOwfueQ-40" target="dpeUAHpxACgYPMOwfueQ-41" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-40" value="ABA问题" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontFamily=Helvetica;fontColor=default;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="309" y="1314" width="70" height="20" as="geometry" />
        </mxCell>
        <mxCell id="HeV-wAqHhQqOec4LPYSm-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="dpeUAHpxACgYPMOwfueQ-41" target="dpeUAHpxACgYPMOwfueQ-43" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-41" value="引入一个counter, 改了就+1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="417" y="1314" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-47" value="" style="edgeStyle=orthogonalEdgeStyle;shape=connector;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;" parent="1" source="dpeUAHpxACgYPMOwfueQ-43" target="dpeUAHpxACgYPMOwfueQ-46" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-43" value="AtomicStampedReference" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="599" y="1314" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-46" value="把counter和要修改的变量打包" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="739" y="1250" width="160" height="20" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-48" value="ClassLoader: 线程上下文加载器的二义性问题?" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="1385" y="690" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-49" value="java.sql.DriverManager" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="1435" y="771" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-51" value="" style="edgeStyle=orthogonalEdgeStyle;shape=connector;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;" parent="1" source="dpeUAHpxACgYPMOwfueQ-50" target="dpeUAHpxACgYPMOwfueQ-49" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-50" value="rt.jar" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="1325" y="771" width="70" height="40" as="geometry" />
        </mxCell>
        <mxCell id="dpeUAHpxACgYPMOwfueQ-52" value="是由bootloader加载的, 而JDBC的驱动由第三方实现, 所以通过线程上下文加载器告诉bootloader去加载该类, 因为bootloader不知道这个类在哪加载" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="1265" y="811" width="440" height="39" as="geometry" />
        </mxCell>
        <mxCell id="HeV-wAqHhQqOec4LPYSm-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="HeV-wAqHhQqOec4LPYSm-1" target="dpeUAHpxACgYPMOwfueQ-33" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HeV-wAqHhQqOec4LPYSm-1" value="CPU" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="30" y="1365" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HeV-wAqHhQqOec4LPYSm-3" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="227" y="1323.5" as="sourcePoint" />
            <mxPoint x="297" y="1323.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="HeV-wAqHhQqOec4LPYSm-5" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1130" y="1650" width="190" height="20" as="geometry" />
        </mxCell>
        <mxCell id="HeV-wAqHhQqOec4LPYSm-11" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1130" y="1670" width="190" height="20" as="geometry" />
        </mxCell>
        <mxCell id="HeV-wAqHhQqOec4LPYSm-12" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1130" y="1690" width="190" height="20" as="geometry" />
        </mxCell>
        <mxCell id="HeV-wAqHhQqOec4LPYSm-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="HeV-wAqHhQqOec4LPYSm-13" target="HeV-wAqHhQqOec4LPYSm-15" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HeV-wAqHhQqOec4LPYSm-13" value="若不同的Cell在一个缓存行中, 此时又会退化为原来的CAS操作, 于是我们希望将他们分布在不同缓存行中, 利用锁分散的机制增加并行度, 如何做? 缓存行填充, e.g. 缓存行大小64byte, int只用4byte, 于是要填充60byte" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="1350" y="1660" width="410" height="50" as="geometry" />
        </mxCell>
        <mxCell id="HeV-wAqHhQqOec4LPYSm-15" value="Java中, 通过@Contended由编译器或运行时自动填充" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="1420.25" y="1740" width="269.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HeV-wAqHhQqOec4LPYSm-17" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1130" y="1710" width="190" height="20" as="geometry" />
        </mxCell>
        <mxCell id="HeV-wAqHhQqOec4LPYSm-18" value="cache line" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="1175" y="1620" width="90" height="20" as="geometry" />
        </mxCell>
        <mxCell id="HeV-wAqHhQqOec4LPYSm-19" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="1200" y="1650" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="HeV-wAqHhQqOec4LPYSm-20" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="1200" y="1670" width="30" height="20" as="geometry" />
        </mxCell>
        <mxCell id="HeV-wAqHhQqOec4LPYSm-21" value="缓存行锁代替总线锁的唯一条件: 变量已在缓存行中" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="1420.25" y="1630" width="269.75" height="20" as="geometry" />
        </mxCell>
        <mxCell id="HeV-wAqHhQqOec4LPYSm-22" value="CPU1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="1289" y="1300" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HeV-wAqHhQqOec4LPYSm-24" value="CPU2" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="1420" y="1300" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HeV-wAqHhQqOec4LPYSm-25" value="CPU3" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="1549" y="1300" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="HeV-wAqHhQqOec4LPYSm-28" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1549" y="1330" width="70" height="50" as="geometry" />
        </mxCell>
        <mxCell id="HeV-wAqHhQqOec4LPYSm-29" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1420" y="1330" width="70" height="50" as="geometry" />
        </mxCell>
        <mxCell id="HeV-wAqHhQqOec4LPYSm-30" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1289" y="1330" width="70" height="50" as="geometry" />
        </mxCell>
        <mxCell id="HeV-wAqHhQqOec4LPYSm-31" value="变量A" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1294" y="1355" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="HeV-wAqHhQqOec4LPYSm-32" value="变量A" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1425" y="1355" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="HeV-wAqHhQqOec4LPYSm-33" value="变量A" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="1554" y="1355" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="HeV-wAqHhQqOec4LPYSm-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="HeV-wAqHhQqOec4LPYSm-35" target="HeV-wAqHhQqOec4LPYSm-36" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HeV-wAqHhQqOec4LPYSm-35" value="当变量A被加载到多个CPU cache中时, 执行lock操作将会使用MESI协议来保证只有一个CPU可以对变量A进行cmpxchg" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="1265" y="1405" width="409" height="40" as="geometry" />
        </mxCell>
        <mxCell id="HeV-wAqHhQqOec4LPYSm-39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;curved=1;" parent="1" source="HeV-wAqHhQqOec4LPYSm-36" target="HeV-wAqHhQqOec4LPYSm-38" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="HeV-wAqHhQqOec4LPYSm-36" value="随着CPU数量增多, 大量CPU的CAS失败, 进行无谓的自旋" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="1320" y="1480" width="299" height="25" as="geometry" />
        </mxCell>
        <mxCell id="HeV-wAqHhQqOec4LPYSm-38" value="锁分散" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontFamily=Helvetica;fontColor=default;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="1199" y="1576" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9cip8CiFLFCaYMpcU3F-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="SonHGdceE0Zbm2Z1TKrk-5" target="r9cip8CiFLFCaYMpcU3F-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SonHGdceE0Zbm2Z1TKrk-5" value="volatile" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=16;fontColor=#FF3333;" parent="1" vertex="1">
          <mxGeometry x="621" y="2040" width="99" height="40" as="geometry" />
        </mxCell>
        <mxCell id="SonHGdceE0Zbm2Z1TKrk-32" value="mmIO" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="824" y="1980" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SonHGdceE0Zbm2Z1TKrk-33" value="CPU乱序执行现象" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="786" y="2610" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="AeaUYEnInn6TyFFDgCMk-7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="TZ7YPI2pEZnhK35bZtsi-1" target="AeaUYEnInn6TyFFDgCMk-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="TZ7YPI2pEZnhK35bZtsi-1" value="CPU在执行指令时, 没有按照编码顺序执行的现象, i.e. 指令之间相对顺序发生了改变" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="915" y="2615" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="AeaUYEnInn6TyFFDgCMk-1" value="简化了重排序的行为, 告诉你编码规则, 至于底层怎么实现是JVM开发者的问题" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="1693" y="2050" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="AeaUYEnInn6TyFFDgCMk-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="AeaUYEnInn6TyFFDgCMk-2" target="AeaUYEnInn6TyFFDgCMk-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AeaUYEnInn6TyFFDgCMk-2" value="JMM" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1549" y="2050" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="AeaUYEnInn6TyFFDgCMk-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="AeaUYEnInn6TyFFDgCMk-4" target="AeaUYEnInn6TyFFDgCMk-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AeaUYEnInn6TyFFDgCMk-4" value="Java" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1549" y="1990" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="AeaUYEnInn6TyFFDgCMk-9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" target="AeaUYEnInn6TyFFDgCMk-8" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1070" y="2700" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="AeaUYEnInn6TyFFDgCMk-6" value="CPU和编译器都可能导致重排序" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="982.5" y="2680" width="175" height="30" as="geometry" />
        </mxCell>
        <mxCell id="B9yCGMFFLdolYYt0oWos-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="AeaUYEnInn6TyFFDgCMk-8" target="2cmjIInxjt0Y60UCOrVg-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AeaUYEnInn6TyFFDgCMk-8" value="特定的CPU和编译器带来的重排序行为都不太一样" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="945" y="2740" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="B9yCGMFFLdolYYt0oWos-10" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;curved=1;" parent="1" source="AeaUYEnInn6TyFFDgCMk-10" target="B9yCGMFFLdolYYt0oWos-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="B9yCGMFFLdolYYt0oWos-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;curved=1;" parent="1" source="AeaUYEnInn6TyFFDgCMk-10" target="B9yCGMFFLdolYYt0oWos-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AeaUYEnInn6TyFFDgCMk-10" value="研究范围限定于: Intel 和 gcc" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;textShadow=0;" parent="1" vertex="1">
          <mxGeometry x="1230" y="2740" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="AeaUYEnInn6TyFFDgCMk-14" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="AeaUYEnInn6TyFFDgCMk-12" target="AeaUYEnInn6TyFFDgCMk-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AeaUYEnInn6TyFFDgCMk-12" value="屏障" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="817" y="3092.5" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="AeaUYEnInn6TyFFDgCMk-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;curved=1;" parent="1" source="AeaUYEnInn6TyFFDgCMk-13" target="AeaUYEnInn6TyFFDgCMk-15" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AeaUYEnInn6TyFFDgCMk-13" value="隔离指令" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="986" y="3092.5" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="AeaUYEnInn6TyFFDgCMk-19" style="edgeStyle=orthogonalEdgeStyle;shape=connector;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;" parent="1" source="AeaUYEnInn6TyFFDgCMk-15" target="AeaUYEnInn6TyFFDgCMk-17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AeaUYEnInn6TyFFDgCMk-15" value="STORE A&lt;br&gt;屏障&lt;br&gt;STORE B" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="1106" y="3080" width="90" height="55" as="geometry" />
        </mxCell>
        <mxCell id="AeaUYEnInn6TyFFDgCMk-21" value="" style="edgeStyle=orthogonalEdgeStyle;shape=connector;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=default;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;" parent="1" source="AeaUYEnInn6TyFFDgCMk-17" target="AeaUYEnInn6TyFFDgCMk-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="AeaUYEnInn6TyFFDgCMk-17" value="隔离屏障两边的指令, 使他们满足该屏障所能保证的意义" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="1298.5" y="3112.5" width="285" height="40" as="geometry" />
        </mxCell>
        <mxCell id="AeaUYEnInn6TyFFDgCMk-20" value="那么有哪几种屏障, 某种屏障要保证的意义是什么?" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="1306" y="3172.5" width="270" height="30" as="geometry" />
        </mxCell>
        <mxCell id="99BcAxhjOU1GVthHqTRR-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;curved=1;" parent="1" source="99BcAxhjOU1GVthHqTRR-1" target="99BcAxhjOU1GVthHqTRR-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="99BcAxhjOU1GVthHqTRR-13" style="edgeStyle=orthogonalEdgeStyle;shape=connector;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;" parent="1" source="99BcAxhjOU1GVthHqTRR-1" target="99BcAxhjOU1GVthHqTRR-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="99BcAxhjOU1GVthHqTRR-15" style="edgeStyle=orthogonalEdgeStyle;shape=connector;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=default;strokeColor=default;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;" parent="1" source="99BcAxhjOU1GVthHqTRR-1" target="99BcAxhjOU1GVthHqTRR-14" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="99BcAxhjOU1GVthHqTRR-1" value="barriers" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="652" y="3382.5" width="79" height="30" as="geometry" />
        </mxCell>
        <mxCell id="99BcAxhjOU1GVthHqTRR-2" value="store barriers" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="856" y="3252.5" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="B9yCGMFFLdolYYt0oWos-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;curved=1;" parent="1" source="99BcAxhjOU1GVthHqTRR-4" target="B9yCGMFFLdolYYt0oWos-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="99BcAxhjOU1GVthHqTRR-4" value="保证2个或2组写操作的相对顺序, store barrier之后的写指令不会重排序到barrier前的写指令之前" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="966" y="3245" width="474" height="45" as="geometry" />
        </mxCell>
        <mxCell id="99BcAxhjOU1GVthHqTRR-6" value="前提: 所有的内存操作指令, 等价于向内存提交一组 操作队列" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="1565" y="3340" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="99BcAxhjOU1GVthHqTRR-11" value="" style="edgeStyle=orthogonalEdgeStyle;shape=connector;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=#d6b656;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;fillColor=#fff2cc;" parent="1" source="99BcAxhjOU1GVthHqTRR-7" target="99BcAxhjOU1GVthHqTRR-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="99BcAxhjOU1GVthHqTRR-7" value="STORE A&lt;br&gt;&lt;br&gt;STORE BARRIER&lt;br&gt;&lt;br&gt;STORE B" style="text;html=1;strokeColor=#d6b656;fillColor=#fff2cc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;" parent="1" vertex="1">
          <mxGeometry x="1511" y="3242.5" width="94" height="70" as="geometry" />
        </mxCell>
        <mxCell id="99BcAxhjOU1GVthHqTRR-10" value="" style="edgeStyle=orthogonalEdgeStyle;shape=connector;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;labelBackgroundColor=default;strokeColor=#d6b656;align=center;verticalAlign=middle;fontFamily=Helvetica;fontSize=11;fontColor=default;endArrow=classic;fillColor=#fff2cc;" parent="1" source="99BcAxhjOU1GVthHqTRR-8" target="99BcAxhjOU1GVthHqTRR-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="99BcAxhjOU1GVthHqTRR-8" value="barrier保证A和B的提交顺序" style="text;html=1;strokeColor=#d6b656;fillColor=#fff2cc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;" parent="1" vertex="1">
          <mxGeometry x="1645" y="3262.5" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="99BcAxhjOU1GVthHqTRR-9" value="CPU看到了B的最新值, 一定看到了A的最新值" style="text;html=1;strokeColor=#d6b656;fillColor=#fff2cc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;" parent="1" vertex="1">
          <mxGeometry x="1826" y="3262.5" width="235" height="30" as="geometry" />
        </mxCell>
        <mxCell id="99BcAxhjOU1GVthHqTRR-12" value="load barriers" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="858.5" y="3382.5" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="99BcAxhjOU1GVthHqTRR-14" value="full barriers" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="856" y="3512.5" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="99BcAxhjOU1GVthHqTRR-16" value="只保证读操作" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="968.5" y="3385" width="80" height="27.5" as="geometry" />
        </mxCell>
        <mxCell id="99BcAxhjOU1GVthHqTRR-17" value="同时保证读和写" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="966" y="3512.5" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="99BcAxhjOU1GVthHqTRR-18" value="虚拟地址" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-179" y="3750" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="99BcAxhjOU1GVthHqTRR-19" value="物理地址" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-10" y="3750" width="105" height="30" as="geometry" />
        </mxCell>
        <mxCell id="99BcAxhjOU1GVthHqTRR-20" value="cache line" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-169" y="3820" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="99BcAxhjOU1GVthHqTRR-22" value="每个进程虚拟地址一样, 如果用虚拟地址查cache line, 可能发生冲突" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="-364" y="3850" width="145" height="40" as="geometry" />
        </mxCell>
        <mxCell id="99BcAxhjOU1GVthHqTRR-23" value="Direct-mapped caches" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="203.75" y="3800" width="112.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="99BcAxhjOU1GVthHqTRR-24" value="Set associative caches" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="190" y="3830" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="99BcAxhjOU1GVthHqTRR-25" value="Fully associative caches" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="190" y="3860" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GM-Ud_aDfbjV712TQ6Kv-4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;curved=1;" parent="1" source="GM-Ud_aDfbjV712TQ6Kv-1" target="GM-Ud_aDfbjV712TQ6Kv-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GM-Ud_aDfbjV712TQ6Kv-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;curved=1;" parent="1" source="GM-Ud_aDfbjV712TQ6Kv-1" target="GM-Ud_aDfbjV712TQ6Kv-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GM-Ud_aDfbjV712TQ6Kv-1" value="virtual address查询cache的问题" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="-610" y="3970" width="180" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GM-Ud_aDfbjV712TQ6Kv-2" value="ambiguity" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="-359" y="3960" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="GM-Ud_aDfbjV712TQ6Kv-3" value="alias" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="-353.5" y="4000" width="69" height="20" as="geometry" />
        </mxCell>
        <UserObject label="https://zhuanlan.zhihu.com/p/107096130" link="https://zhuanlan.zhihu.com/p/107096130" id="GM-Ud_aDfbjV712TQ6Kv-6">
          <mxCell style="text;whiteSpace=wrap;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
            <mxGeometry x="-620" y="3920" width="220" height="30" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="PCTluO6xD0Zs3hzz5Vkr-1" value="第7节, 第8节" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-359" y="3770" width="110" height="35" as="geometry" />
        </mxCell>
        <mxCell id="r9cip8CiFLFCaYMpcU3F-2" value="CPU1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="2040" y="1302.5" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9cip8CiFLFCaYMpcU3F-5" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="2040" y="1332.5" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="r9cip8CiFLFCaYMpcU3F-8" value="A" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="2048" y="1347.5" width="40" height="25" as="geometry" />
        </mxCell>
        <mxCell id="r9cip8CiFLFCaYMpcU3F-9" value="B" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="2094" y="1347.5" width="40" height="25" as="geometry" />
        </mxCell>
        <mxCell id="r9cip8CiFLFCaYMpcU3F-10" value="CPU2" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="2200" y="1302.5" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9cip8CiFLFCaYMpcU3F-11" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="2200" y="1332.5" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="r9cip8CiFLFCaYMpcU3F-12" value="A" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="2208" y="1347.5" width="40" height="25" as="geometry" />
        </mxCell>
        <mxCell id="r9cip8CiFLFCaYMpcU3F-13" value="B" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="2254" y="1347.5" width="40" height="25" as="geometry" />
        </mxCell>
        <mxCell id="r9cip8CiFLFCaYMpcU3F-14" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="2040" y="1407.5" width="260" height="50" as="geometry" />
        </mxCell>
        <mxCell id="r9cip8CiFLFCaYMpcU3F-15" value="A" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="2125" y="1420" width="40" height="25" as="geometry" />
        </mxCell>
        <mxCell id="r9cip8CiFLFCaYMpcU3F-16" value="B" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="2171" y="1420" width="40" height="25" as="geometry" />
        </mxCell>
        <mxCell id="r9cip8CiFLFCaYMpcU3F-17" value="Memory" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="2043" y="1420.5" width="40" height="25" as="geometry" />
        </mxCell>
        <mxCell id="r9cip8CiFLFCaYMpcU3F-19" value="CPU1写A和B的两种机制:&amp;nbsp;&lt;br style=&quot;font-size: 12px;&quot;&gt;1. 直接把最新值写入内存, 然后告诉CPU2缓存失效&lt;br style=&quot;font-size: 12px;&quot;&gt;2. 直接把最新值写入内存, 然后最新值给CPU2, 似的CPU缓存行中的A和B更新为最新, 此时CPU2无须去内存重新读取" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="2340" y="1310" width="360" height="90" as="geometry" />
        </mxCell>
        <mxCell id="r9cip8CiFLFCaYMpcU3F-20" value="每个原子性的变量, 也即多个线程共享的都加上volatile, 原因何在？" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=14;fontColor=#FF3333;" parent="1" vertex="1">
          <mxGeometry x="774" y="2040" width="436" height="40" as="geometry" />
        </mxCell>
        <mxCell id="r9cip8CiFLFCaYMpcU3F-22" value="JVM" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="845" y="2100" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9cip8CiFLFCaYMpcU3F-23" value="OS" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="845" y="2150" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9cip8CiFLFCaYMpcU3F-24" value="CPU (Intel)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="845" y="2200" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9cip8CiFLFCaYMpcU3F-26" value="CPU 1&lt;br&gt;A == 1&lt;br&gt;A = 3&lt;div&gt;B = 4&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="810" y="2310" width="70" height="100" as="geometry" />
        </mxCell>
        <mxCell id="r9cip8CiFLFCaYMpcU3F-27" value="CPU2&lt;br&gt;B == 2&lt;br&gt;x = A&lt;br&gt;y = B" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="920" y="2310" width="67" height="100" as="geometry" />
        </mxCell>
        <mxCell id="r9cip8CiFLFCaYMpcU3F-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="r9cip8CiFLFCaYMpcU3F-28" target="r9cip8CiFLFCaYMpcU3F-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="r9cip8CiFLFCaYMpcU3F-28" value="所有CPU的操作, 等价于向内存提交一组访问序列而已" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1013" y="2480" width="305" height="30" as="geometry" />
        </mxCell>
        <mxCell id="r9cip8CiFLFCaYMpcU3F-29" value="指令以何种顺序读内存, 以何种顺序写内存" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1351.5" y="2480" width="240.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="hfoLQT2eYCwfNi6susUt-2" value="JUC LongAdder" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1340" y="1560" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="9GSOo7D7u0mSWAOutGfX-1" value="STORE A 3&lt;br&gt;&lt;br&gt;STORE B 4&lt;br&gt;&lt;br&gt;LOAD A&lt;br&gt;&lt;br&gt;LOAD B" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1025" y="2310" width="110" height="120" as="geometry" />
        </mxCell>
        <mxCell id="9GSOo7D7u0mSWAOutGfX-2" value="STORE A 3&lt;br&gt;&lt;br&gt;LOAD A&lt;br&gt;&lt;br&gt;STORE B 4&lt;br&gt;&lt;br&gt;LOAD B" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1170" y="2310" width="110" height="120" as="geometry" />
        </mxCell>
        <mxCell id="9GSOo7D7u0mSWAOutGfX-5" value="LOAD A&lt;br&gt;&lt;br&gt;STORE A 3&lt;br&gt;&lt;br&gt;STORE B 4&lt;br&gt;&lt;br&gt;LOAD B" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1294" y="2310" width="110" height="120" as="geometry" />
        </mxCell>
        <mxCell id="9GSOo7D7u0mSWAOutGfX-6" value="LOAD A&lt;br&gt;&lt;br&gt;LOAD B&lt;br&gt;&lt;br&gt;STORE A 3&lt;br&gt;&lt;br&gt;STORE B 4" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1425" y="2310" width="110" height="120" as="geometry" />
        </mxCell>
        <mxCell id="9GSOo7D7u0mSWAOutGfX-7" value="{3,4}" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1045" y="2270" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="9GSOo7D7u0mSWAOutGfX-8" value="{3,4}" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1195" y="2270" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="9GSOo7D7u0mSWAOutGfX-9" value="{1,4}" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1320" y="2270" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="9GSOo7D7u0mSWAOutGfX-10" value="{1,2}" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1450" y="2270" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="9GSOo7D7u0mSWAOutGfX-11" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;flipH=1;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;rotation=90;" parent="1" vertex="1">
          <mxGeometry x="1270" y="2220" width="20" height="480" as="geometry" />
        </mxCell>
        <mxCell id="9GSOo7D7u0mSWAOutGfX-13" value="什么导致了这个乱序执行现象?" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="779" y="2680" width="175" height="30" as="geometry" />
        </mxCell>
        <mxCell id="9GSOo7D7u0mSWAOutGfX-14" value="CPU乱序执行的前提是, 不能打破逻辑, 如果变量或逻辑之间没有依赖, 那么才可以乱序" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="705.38" y="2560" width="271.25" height="40" as="geometry" />
        </mxCell>
        <mxCell id="2cmjIInxjt0Y60UCOrVg-2" value="JVM是一个中间层, 引入自己的逻辑来屏蔽这些C开发多线程多种复杂的情况, 简化了导致重排序的行为; 这个就是JMM的由来" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="953.75" y="2871" width="232.5" height="52" as="geometry" />
        </mxCell>
        <mxCell id="B9yCGMFFLdolYYt0oWos-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="2cmjIInxjt0Y60UCOrVg-3" target="2cmjIInxjt0Y60UCOrVg-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="2cmjIInxjt0Y60UCOrVg-3" value="C, C++需要处理的重排序情况比较复杂, 导致多线程开发的复杂性" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="942.5" y="2810" width="255" height="30" as="geometry" />
        </mxCell>
        <mxCell id="B9yCGMFFLdolYYt0oWos-6" value="JMM约束了Java的行为, Java开发者按照规则编程即可, 具体的实现由JVM开发者负责" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="1220" y="2878" width="245" height="38" as="geometry" />
        </mxCell>
        <mxCell id="B9yCGMFFLdolYYt0oWos-8" value="Intel manual" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;textShadow=0;" parent="1" vertex="1">
          <mxGeometry x="1444" y="2710" width="86" height="30" as="geometry" />
        </mxCell>
        <mxCell id="B9yCGMFFLdolYYt0oWos-9" value="gcc manual" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;textShadow=0;" parent="1" vertex="1">
          <mxGeometry x="1444.25" y="2770" width="81.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="B9yCGMFFLdolYYt0oWos-12" value="由于OS要对接不同的CPU, 那么必然要满足不同的CPU提供的屏障实现要求, 因此通过宏定义来适配不同的CPU" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontFamily=Helvetica;fontColor=default;" parent="1" vertex="1">
          <mxGeometry x="1291" y="3060" width="285" height="40" as="geometry" />
        </mxCell>
        <mxCell id="FncKr-vtPmwALynlk0jB-1" value="Memory" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1307.5" y="3620" width="320" height="40" as="geometry" />
        </mxCell>
        <mxCell id="FncKr-vtPmwALynlk0jB-2" value="CPU1" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1374" y="3530" width="61" height="42" as="geometry" />
        </mxCell>
        <mxCell id="FncKr-vtPmwALynlk0jB-3" value="CPU2" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1480" y="3530" width="61" height="42" as="geometry" />
        </mxCell>
        <mxCell id="FncKr-vtPmwALynlk0jB-4" value="顺序写了" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1306" y="3542" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="FncKr-vtPmwALynlk0jB-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;curved=1;" parent="1" source="FncKr-vtPmwALynlk0jB-5" target="FncKr-vtPmwALynlk0jB-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FncKr-vtPmwALynlk0jB-5" value="不按顺序读" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1541" y="3542.5" width="86.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="FncKr-vtPmwALynlk0jB-6" value="A" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="1506.5" y="3625" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="FncKr-vtPmwALynlk0jB-7" value="B" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="1553.5" y="3625" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="FncKr-vtPmwALynlk0jB-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="FncKr-vtPmwALynlk0jB-8" target="FncKr-vtPmwALynlk0jB-11" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="FncKr-vtPmwALynlk0jB-8" value="可能会导致某一个值无法读到最新的" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1690" y="3590" width="210" height="28" as="geometry" />
        </mxCell>
        <mxCell id="FncKr-vtPmwALynlk0jB-10" value="LOAD B操作重排序到 LOAD A 之前" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1689.75" y="3550" width="220.25" height="28" as="geometry" />
        </mxCell>
        <mxCell id="FncKr-vtPmwALynlk0jB-11" value="需要读屏障, 保证LOAD A一定发生在LOAD B 前" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1934" y="3590" width="280" height="28" as="geometry" />
        </mxCell>
        <mxCell id="FncKr-vtPmwALynlk0jB-13" value="写屏障, 保证了 STORE A一定发生在STORE B 前" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1202.5" y="3590" width="280" height="28" as="geometry" />
        </mxCell>
        <mxCell id="FncKr-vtPmwALynlk0jB-16" value="以上是抽象概念. 实际在CPU中呢?" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1610" y="3740" width="185" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-FcQdrV0vnWtqaeG2UPR-2" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1201" y="3820" width="1015" height="260" as="geometry" />
        </mxCell>
        <mxCell id="-FcQdrV0vnWtqaeG2UPR-3" value="Memory" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1315" y="4010" width="320" height="40" as="geometry" />
        </mxCell>
        <mxCell id="-FcQdrV0vnWtqaeG2UPR-4" value="CPU1" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1380" y="3850" width="61" height="42" as="geometry" />
        </mxCell>
        <mxCell id="-FcQdrV0vnWtqaeG2UPR-5" value="CPU2" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1486" y="3850" width="61" height="42" as="geometry" />
        </mxCell>
        <mxCell id="-FcQdrV0vnWtqaeG2UPR-6" value="顺序写了" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1314" y="3890" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-FcQdrV0vnWtqaeG2UPR-9" value="A" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="1514" y="4015" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-FcQdrV0vnWtqaeG2UPR-10" value="B" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="1561" y="4015" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-FcQdrV0vnWtqaeG2UPR-15" value="写屏障, 保证了 STORE A一定发生在STORE B 前" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1210" y="3980" width="280" height="28" as="geometry" />
        </mxCell>
        <mxCell id="-FcQdrV0vnWtqaeG2UPR-17" value="cache" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1380" y="3914" width="61" height="42" as="geometry" />
        </mxCell>
        <mxCell id="-FcQdrV0vnWtqaeG2UPR-18" value="cache" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1486" y="3914" width="61" height="42" as="geometry" />
        </mxCell>
        <mxCell id="-FcQdrV0vnWtqaeG2UPR-19" value="A" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="1371.5" y="3940" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-FcQdrV0vnWtqaeG2UPR-20" value="B" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="1418.5" y="3940" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-FcQdrV0vnWtqaeG2UPR-21" value="A" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="1478" y="3940" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-FcQdrV0vnWtqaeG2UPR-22" value="B" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="1525" y="3940" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-FcQdrV0vnWtqaeG2UPR-23" value="缓存的一致性?" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1576" y="3920" width="115" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-FcQdrV0vnWtqaeG2UPR-24" value="CPU" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="843.5" y="4290" width="220" height="80" as="geometry" />
        </mxCell>
        <mxCell id="-FcQdrV0vnWtqaeG2UPR-25" value="page table" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1157.5" y="4310" width="75" height="40" as="geometry" />
        </mxCell>
        <mxCell id="-FcQdrV0vnWtqaeG2UPR-26" value="virtual addr" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="843.5" y="4332" width="103" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-FcQdrV0vnWtqaeG2UPR-27" value="physical addr" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="960.5" y="4332" width="103" height="38" as="geometry" />
        </mxCell>
        <mxCell id="-FcQdrV0vnWtqaeG2UPR-28" value="Cache Line" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="845" y="4400" width="220" height="40" as="geometry" />
        </mxCell>
        <mxCell id="-FcQdrV0vnWtqaeG2UPR-29" value="用哪个地址去查cache?" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="676" y="4340" width="144" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
